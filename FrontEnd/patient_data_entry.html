<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title> CloudCare | Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="sidebar">
        <div class="logo-details">
            <img src="image/logo.png" alt="CloudCare Logo" />
            <span class="logo_name">CloudCare</span>
        </div>
        <ul class="nav-links">
            <li>
                <a href="dashboard.html">
                    <i class='bx bxs-dashboard'></i>
                    <span class="link_name">Doctor's Profile</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="#">Category</a></li>
                </ul>
            </li>

            <li class="active">
                <a href="patient_data_entry.html">
                    <i class='bx bx-arrow-to-top'></i>
                    <span class="link_name">Patient Data Entry</span>
                </a>
                <ul class="sub-menu form blank">
                    <li><a class="link_name" href="patient_data_entry.html">Category</a></li>
                </ul>
            </li>

            <li>
                <a href="patient.html">
                    <i class="bx bxs-user"></i>
                    <span class="link_name">Patient Profile</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="patient.html">Patient Profile</a></li>
                </ul>
            </li>
            
            
            <li>
                <a href="donor.html">
                    <i class='bx bxs-droplet'></i>
                    <span class="link_name">Find Donor</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="donor.html">Find Donor</a></li>
                </ul>
            </li>
            <li>
                <a href="baby.html">
                    <i class='bx bxs-baby-carriage'></i>
                    <span class="link_name">Baby Planner</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="baby.html">Baby Planner</a></li>
                </ul>
            </li>
           
            <li>
                <a href="#">
                    <i class='bx bx-compass'></i>
                    <span class="link_name">Epidemic Analyzer</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="epidemic.html">Epidemic Analyzer</a></li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <i class='bx bx-history'></i>
                    <span class="link_name">Depression Test</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="depression.html">Depression Test</a></li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <i class='bx bx-cog'></i>
                    <span class="link_name">Health Score</span>
                </a>
                <ul class="sub-menu blank">
                    <li><a class="link_name" href="healthScore.html">Health Score</a></li>
                </ul>
            </li>
            <li>
                <!-- Doctor Content Here-->
                <div class="profile-details">
                    <a href="dashboard.html"
                        style="display: flex; align-items: center; text-decoration: none; width: 100%;">
                        <div class="profile-content">
                            <img src="image/profile.jpg" alt="profileImg">
                            <div class="name-job">
                                <div class="profile_name">Dr Raima Hridika</div>
                                <div class="job">Psychiatrist</div>
                            </div>
                        </div>
                    </a>
                </div>
            </li>
        </ul>
    </div>
    <section class="home-section">
        <div class="home-header">
            <i class='bx bx-menu'></i>
            <h1>Patient Data Entry</h1>
        </div>

        <!-- Patient ID Bar -->
        <div class="patient-id-bar">
            <form id="patient-id-form" onsubmit="return false;">
                <label for="patient-id">Patient ID <span style="color:red">*</span>:</label>
                <input type="text" id="patient-id" name="patient-id" required placeholder="Enter Patient ID">
                <button type="button" class="id-btn" onclick="enableSections()">Start Entry</button>
            </form>
        </div>

        <form class="patient-form" enctype="multipart/form-data" autocomplete="off">
            <!-- Patient Photo Upload -->
            <div class="form-section" id="photo-section">
                <div class="form-section-title">Patient Photo</div>
                <div class="form-photo-upload">
                    <label for="patient-photo" class="photo-label">
                        <img id="photo-preview" src="image/patient-profile.jpg" alt="Patient Photo" />
                        <input type="file" id="patient-photo" name="patient-photo" accept="image/*" style="display:none" onchange="previewPhoto(event)">
                        <span class="upload-btn">Upload Photo</span>
                    </label>
                </div>
                <button type="button" class="sub-section-btn" onclick="submitSection('photo-section')">Submit Photo</button>
            </div>

            <!-- 1. Blood & Biochemistry -->
            <div class="form-section" id="blood-section">
                <div class="form-section-title">Blood & Biochemistry</div>
                <div class="form-grid">
                    <div><label>Blood <input type="text" name="blood" required> <span class="unit">Normal/Abnormal</span></label></div>
                    <div><label>RBC <input type="text" name="rbc" required> <span class="unit">million/μL</span></label></div>
                    <div><label>Platelet <input type="text" name="platelet" required> <span class="unit">/μL</span></label></div>
                    <div><label>Triglyceride <input type="text" name="triglyceride" required> <span class="unit">mg/dL</span></label></div>
                    <div><label>Blood Group <input type="text" name="blood_group" required> <span class="unit">A/B/AB/O</span></label></div>
                    <div><label>Hb <input type="text" name="hb" required> <span class="unit">g/dL</span></label></div>
                    <div><label>Creatinine <input type="text" name="creatinine" required> <span class="unit">mg/dL</span></label></div>
                    <div><label>WBC <input type="text" name="wbc" required> <span class="unit">/μL</span></label></div>
                    <div><label>Sugar Level <input type="text" name="sugar_level" required> <span class="unit">mg/dL</span></label></div>
                    <div><label>Rh <input type="text" name="rh" required> <span class="unit">+/−</span></label></div>
                    <div><label>Hemoglobin (Hb) <input type="text" name="hemoglobin" required> <span class="unit">g/dL</span></label></div>
                    <div><label>Creatinine <input type="text" name="creatinine2" required> <span class="unit">mg/dL</span></label></div>
                </div>
                <button type="button" class="sub-section-btn" onclick="submitSection('blood-section')">Submit Blood & Biochemistry</button>
            </div>

            <!-- 2. Registration & Profile (Initial) -->
            <div class="form-section" id="profile-section">
                <div class="form-section-title">Registration & Profile (Initial)</div>
                <div class="form-grid">
                    <div><label>Name <input type="text" name="name" required></label></div>
                    <div><label>Father & Mom <input type="text" name="parents" required></label></div>
                    <div><label>Blood Group <input type="text" name="blood_group2" required></label></div>
                    <div><label>Age <input type="number" name="age" required></label></div>
                    <div><label>Gender <input type="text" name="gender" required></label></div>
                    <div><label>Division <input type="text" name="division" required></label></div>
                    <div><label>Zilla <input type="text" name="zilla" required></label></div>
                    <div><label>Weight <input type="text" name="weight" required></label></div>
                    <div><label>Height <input type="text" name="height" required></label></div>
                    <div><label>Contact No (Emergency) <input type="text" name="emergency_contact" required></label></div>
                    <div><label>University Correspondence <input type="text" name="university" required></label></div>
                </div>
                <button type="button" class="sub-section-btn" onclick="submitSection('profile-section')">Submit Registration & Profile</button>
            </div>

            <!-- Common Criterion -->
            <div class="form-section" id="criterion-section">
                <div class="form-section-title">Common Criterion</div>
                <div class="form-grid">
                    <div><label>Blood Pressure <input type="text" name="bp" required></label></div>
                    <div><label>BMI <input type="text" name="bmi" required></label></div>
                    <div><label>BMR <input type="text" name="bmr" required></label></div>
                    <div><label>Cholesterol <input type="text" name="cholesterol" required></label></div>
                    <div><label>Blood Sugar <input type="text" name="blood_sugar" required></label></div>
                </div>
                <button type="button" class="sub-section-btn" onclick="submitSection('criterion-section')">Submit Common Criterion</button>
            </div>

            <!-- Lifestyle Info -->
            <div class="form-section" id="lifestyle-section">
                <div class="form-section-title">Lifestyle Info</div>
                <div class="form-grid">
                    <div><label>Sleep Hours per day <input type="text" name="sleep" required></label></div>
                    <div><label>Water Intake <input type="text" name="water" required></label></div>
                    <div><label>Diet Notes <input type="text" name="diet" required></label></div>
                    <div><label>Smoking / Drinking Habits <input type="text" name="habits" required></label></div>
                </div>
                <button type="button" class="sub-section-btn" onclick="submitSection('lifestyle-section')">Submit Lifestyle Info</button>
            </div>

            <!-- Prev Accident History -->
            <div class="form-section" id="accident-section">
                <div class="form-section-title">Previous Accident History</div>
                <table class="form-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Accident Type</th>
                            <th>Current State</th>
                            <th>Any Restrictions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="date" name="accident_date" required></td>
                            <td><input type="text" name="accident_type" required></td>
                            <td><input type="text" name="accident_state" required></td>
                            <td><input type="text" name="accident_restrictions" required></td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" class="sub-section-btn" onclick="submitSection('accident-section')">Submit Accident History</button>
            </div>

            <!-- Vaccination History -->
            <div class="form-section" id="vaccine-section">
                <div class="form-section-title">Vaccination History</div>
                <table class="form-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Vaccine Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="date" name="vaccine_date" required></td>
                            <td><input type="text" name="vaccine_type" required></td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" class="sub-section-btn" onclick="submitSection('vaccine-section')">Submit Vaccination History</button>
            </div>

            <!-- Prev Disease History -->
            <div class="form-section" id="disease-section">
                <div class="form-section-title">Previous Disease History</div>
                <table class="form-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Disease Type</th>
                            <th>Current State</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="date" name="disease_date" required></td>
                            <td><input type="text" name="disease_type" required></td>
                            <td><input type="text" name="disease_state" required></td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" class="sub-section-btn" onclick="submitSection('disease-section')">Submit Disease History</button>
            </div>

            <!-- Mental Health Corner -->
            <div class="form-section" id="mental-section">
                <div class="form-section-title">Mental Health Corner</div>
                <div class="form-grid">
                    <div>
                        <label>
                            Serotonin
                            <input type="text" name="serotonin" required>
                            <span class="unit">ng/mL (Normal: 101–283 ng/mL)</span>
                        </label>
                    </div>
                    <div>
                        <label>
                            Dopamine
                            <input type="text" name="dopamine" required>
                            <span class="unit">pg/mL (Normal: 0–30 pg/mL)</span>
                        </label>
                    </div>
                    <div>
                        <label>
                            Norepinephrine
                            <input type="text" name="norepinephrine" required>
                            <span class="unit">pg/mL (Normal: 80–520 pg/mL)</span>
                        </label>
                    </div>
                    <div>
                        <label>
                            Cortisol
                            <input type="text" name="cortisol" required>
                            <span class="unit">μg/dL (Morning: 5–25 μg/dL)</span>
                        </label>
                    </div>
                    <div>
                        <label>
                            BDNF
                            <input type="text" name="bdnf" required>
                            <span class="unit">ng/mL (Normal: 7–42 ng/mL)</span>
                        </label>
                    </div>
                    <div>
                        <label>
                            Type of Disease
                            <input type="text" name="mental_disease" required>
                        </label>
                    </div>
                    <div>
                        <label>
                            Parental Care State
                            <input type="text" name="parental_care" required>
                        </label>
                    </div>
                    <div>
                        <label>
                            Parents Job
                            <input type="text" name="parents_job" required>
                        </label>
                    </div>
                    <div>
                        <label>
                            Home Environment
                            <input type="text" name="home_env" required>
                        </label>
                    </div>
                    <div>
                        <label>
                            Friend Circle
                            <input type="text" name="friend_circle" required>
                        </label>
                    </div>
                    <div>
                        <label>
                            State RN
                            <input type="text" name="state_rn" required>
                        </label>
                    </div>
                </div>
                <button type="button" class="sub-section-btn" onclick="submitSection('mental-section')">Submit Mental Health</button>
            </div>
        </form>
        <!-- Main Content ends here -->

        <style>
            body {
                background: #e6f9ed;
                font-family: 'Segoe UI', Arial, sans-serif;
            }
            .patient-id-bar {
                background: #d1fae5;
                padding: 18px 32px 12px 32px;
                border-radius: 12px;
                box-shadow: 0 2px 8px 0 rgba(34,197,94,0.06);
                margin: 24px auto 24px auto;
                max-width: 1100px;
                display: flex;
                align-items: center;
                justify-content: flex-start;
                gap: 18px;
            }
            .patient-id-bar label {
                font-size: 1.1rem;
                color: #198754;
                font-weight: 600;
                margin-right: 8px;
            }
            .patient-id-bar input[type="text"] {
                padding: 7px 12px;
                border: 1.5px solid #22c55e;
                border-radius: 6px;
                font-size: 1rem;
                background: #fff;
                color: #198754;
                margin-right: 12px;
                width: 220px;
            }
            .id-btn {
                background: #22c55e;
                color: #fff;
                border: none;
                border-radius: 6px;
                padding: 7px 22px;
                font-size: 1rem;
                font-weight: 600;
                cursor: pointer;
                transition: background 0.2s;
            }
            .id-btn:hover {
                background: #16a34a;
            }
            .patient-form {
                max-width: 1100px;
                margin: 40px auto 0 auto;
                background: #f6fff9;
                border-radius: 18px;
                box-shadow: 0 4px 32px 0 rgba(34,197,94,0.10);
                padding: 36px 32px 28px 32px;
                display: flex;
                flex-direction: column;
                gap: 32px;
            }
            .form-section {
                background: #eafcf2;
                border-radius: 12px;
                padding: 18px 24px 12px 24px;
                margin-bottom: 12px;
                box-shadow: 0 2px 8px 0 rgba(34,197,94,0.07);
            }
            .form-section-title {
                font-size: 1.3rem;
                color: #16a34a;
                font-weight: 700;
                margin-bottom: 10px;
                letter-spacing: 0.5px;
                border-left: 4px solid #22c55e;
                padding-left: 10px;
                margin-top: 12px;
            }
            .form-grid label,
            .form-table label {
                color: #198754;
            }
            .form-grid .unit {
                font-size: 0.95em;
                color: #22c55e;
                font-weight: 500;
                margin-left: 6px;
                margin-top: 2px;
                display: inline-block;
            }
            .form-grid input[type="text"],
            .form-grid input[type="number"],
            .form-table input[type="text"],
            .form-table input[type="date"] {
                padding: 7px 10px;
                border: 1px solid #b6e7c9;
                border-radius: 6px;
                font-size: 1rem;
                background: #f8fefb;
                color: #198754;
                margin-top: 2px;
                transition: border 0.2s, box-shadow 0.2s;
            }
            .form-grid input:focus,
            .form-table input:focus {
                border: 1.5px solid #22c55e;
                outline: none;
                background: #e6f9ed;
                box-shadow: 0 0 0 2px #bbf7d0;
            }
            .form-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 8px;
                background: #fff;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 1px 4px 0 rgba(34,197,94,0.04);
                display: flex;
                flex-direction: column;
            }
            .form-table thead,
            .form-table tbody,
            .form-table tr {
                display: flex;
                width: 100%;
            }

            .form-table th, .form-table td {
                flex: 1 1 0;
                text-align: left;
                padding: 8px 12px;
                border-bottom: 1px solid #bbf7d0;
                min-width: 0;
                box-sizing: border-box;
            }

            .form-table tr:last-child td {
                border-bottom: none;
            }

            @media (max-width: 700px) {
                .form-table th, .form-table td {
                    font-size: 0.98em;
                    padding: 8px 6px;
                }
            }
            @media (max-width: 900px) {
                .form-table {
                    font-size: 0.98em;
                }
            }
            .form-table th {
                background: #d1fae5;
                color: #16a34a;
                font-weight: 600;
            }
            .form-photo-upload {
                display: flex;
                align-items: center;
                gap: 24px;
            }
            .photo-label img {
                width: 120px;
                height: 120px;
                border-radius: 50%;
                object-fit: cover;
                border: 4px solid #22c55e;
                background: #eafcf2;
                box-shadow: 0 2px 12px 0 rgba(34,197,94,0.08);
                margin-bottom: 10px;
                transition: box-shadow 0.2s, border 0.2s;
            }
            .photo-label:hover img {
                box-shadow: 0 4px 24px 0 rgba(34,197,94,0.18);
                border: 4px solid #16a34a;
            }
            .upload-btn {
                background: #22c55e;
                color: #fff;
                padding: 6px 18px;
                border-radius: 6px;
                font-size: 1rem;
                font-weight: 500;
                box-shadow: 0 2px 8px 0 rgba(34,197,94,0.08);
                transition: background 0.2s;
            }
            .photo-label:hover .upload-btn {
                background: #16a34a;
            }
            .submit-btn {
                background: linear-gradient(90deg, #4e7fff 60%, #22336b 100%);
                color: #fff;
                border: none;
                border-radius: 8px;
                padding: 12px 38px;
                font-size: 1.2rem;
                font-weight: 600;
                cursor: pointer;
                box-shadow: 0 2px 12px 0 rgba(78,127,255,0.10);
                transition: background 0.2s, box-shadow 0.2s;
            }
            .submit-btn:hover {
                background: linear-gradient(90deg, #22336b 60%, #4e7fff 100%);
                box-shadow: 0 4px 24px 0 rgba(78,127,255,0.18);
            }
            /* Animated Green Button */
            .sub-section-btn {
                margin-top: 18px;
                background: #22c55e;
                color: #fff;
                border: none;
                border-radius: 8px;
                padding: 16px 0;
                font-size: 1.08rem;
                font-weight: 700;
                cursor: pointer;
                box-shadow: 0 2px 8px 0 rgba(34,197,94,0.10);
                display: block;
                width: 100%;
                text-align: center;
                letter-spacing: 1px;
                position: relative;
                overflow: hidden;
                transition: 
                    background 0.3s cubic-bezier(.4,2,.6,1),
                    color 0.3s cubic-bezier(.4,2,.6,1),
                    box-shadow 0.3s cubic-bezier(.4,2,.6,1),
                    transform 0.2s cubic-bezier(.4,2,.6,1);
                z-index: 1;
            }
            .sub-section-btn:hover {
                background: #fff;
                color: #16a34a !important;
                box-shadow: 0 0 0 4px #bbf7d0, 0 8px 32px 0 rgba(34,197,94,0.18);
                transform: scale(1.04);
            }
            .sub-section-btn::before {
                content: "";
                position: absolute;
                left: 50%;
                top: 50%;
                width: 0;
                height: 0;
                background: #fff;
                border-radius: 8px;
                z-index: 2;
                transition: all 0.4s cubic-bezier(.4,2,.6,1);
                opacity: 1; /* Increased from 0.7 to 1 for more visible effect */
                transform: translate(-50%, -50%);
            }
            .sub-section-btn:active {
                transform: scale(0.98);
                box-shadow: 0 2px 8px 0 rgba(34,197,94,0.10);
            }
            .sub-section-btn:disabled {
                background: #b4b9be;
                cursor: not-allowed;
                box-shadow: none;
                color: #fff;
            }
            .sub-section-btn:hover,
            .sub-section-btn:focus {
                animation: growBtn 0.4s cubic-bezier(.4,2,.6,1);
            }
            @keyframes growBtn {
                0% { transform: scale(1);}
                60% { transform: scale(1.08);}
                100% { transform: scale(1.04);}
            }

            /* Two-column layout for form-grid */
            .form-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 18px 32px;
            }
            @media (max-width: 900px) {
                .form-grid {
                    grid-template-columns: 1fr;
                }
            }
        </style>
        <script>
            // Disable all sections except Patient ID bar at first
            document.addEventListener("DOMContentLoaded", function () {
                disableSections();
            });

            function disableSections() {
                document.querySelectorAll('.form-section').forEach(sec => {
                    sec.setAttribute('disabled', 'disabled');
                    sec.style.pointerEvents = 'none';
                    sec.style.opacity = 0.5;
                });
            }
            function enableSections() {
                const pid = document.getElementById('patient-id').value.trim();
                if (!pid) {
                    alert("Patient ID is required!");
                    return false;
                }
                document.querySelectorAll('.form-section').forEach(sec => {
                    sec.removeAttribute('disabled');
                    sec.style.pointerEvents = 'auto';
                    sec.style.opacity = 1;
                });
                document.getElementById('patient-id').setAttribute('readonly', 'readonly');
                document.querySelector('.id-btn').disabled = true;
            }

            function submitSection(sectionId) {
                const section = document.getElementById(sectionId);
                const requiredInputs = section.querySelectorAll('input[required]');
                let valid = true;
                requiredInputs.forEach(input => {
                    if (!input.value.trim()) {
                        input.style.border = "2px solid #ef4444";
                        valid = false;
                    } else {
                        input.style.border = "";
                    }
                });
                if (!valid) {
                    alert("Please fill all fields in this section before submitting.");
                    return false;
                }
                // Here you would send the section data to your backend
                alert("Section submitted successfully!");
                section.setAttribute('disabled', 'disabled');
                section.style.pointerEvents = 'none';
                section.style.opacity = 0.5;
            }

            function previewPhoto(event) {
                const reader = new FileReader();
                reader.onload = function () {
                    document.getElementById('photo-preview').src = reader.result;
                }
                reader.readAsDataURL(event.target.files[0]);
            }
        </script>
        <script src="script.js"></script>
        <script>
            const sidebarBtn = document.querySelector(".bx-menu");
            const sidebar = document.querySelector(".sidebar");

            if (sidebarBtn) {
                sidebarBtn.addEventListener("click", () => {
                    sidebar.classList.toggle("close");
                });
            }
        </script>

</body>

</html>